<div class="cl-dashboard">
  <aside class="cl-sidebar">
    <div class="cl-header">
      <img src="/cetvi.jpeg" alt="Logo" class="cl-logo">
    </div>

    <nav class="cl-nav">
      <ul>
        <li *ngFor="let m of listaMenu">
          <div class="cl-nav-item" (click)="toggleMenu(m.idMenu)" [class.active]="menusAbiertos[m.idMenu]">
            <div class="cl-nav-label">
              <span class="material-symbols-outlined">
                {{ m.nombre.toLowerCase().includes('trans') ? 'payments' :
                   m.nombre.toLowerCase().includes('segur') ? 'shield' : 'grid_view' }}
              </span>
              <span>{{ m.nombre | titlecase }}</span>
            </div>

            <span class="material-symbols-outlined" *ngIf="m.subMenus && m.subMenus.length > 0">
              {{ menusAbiertos[m.idMenu] ? 'expand_less' : 'expand_more' }}
            </span>
          </div>

          <ul class="cl-submenu" *ngIf="menusAbiertos[m.idMenu] && m.subMenus?.length > 0">
            <li *ngFor="let sm of m.subMenus" [routerLink]="sm.url">
              {{ sm.nombre | titlecase }}
            </li>
          </ul>
        </li>
      </ul>
    </nav>

    <div class="cl-footer">
      <button type="button" class="cl-btn-logout" (click)="cerrarSesion()">
        <span class="material-symbols-outlined">logout</span>
        <span>Cerrar Sesi√≥n</span>
      </button>
    </div>
  </aside>

  <main class="cl-main">
    <header style="height: 60px; background: white; border-bottom: 1px solid var(--border-color);"></header>
    <div class="cl-content">
      <router-outlet></router-outlet>
    </div>
  </main>
</div>
